<div id="wow"></div>
<script>
	window.addEventListener("load", colorWow);
	
	function colorWow(){
		var elements = document.getElementsByClassName("rainbow");
		for (let i = 0; i < elements.length; i++) {
			generateRainbowText(elements[i]);
		}
	}

	function generateRainbowText(element) {
		var text = element.innerText;
		element.innerHTML = "";
		for (let i = 0; i < text.length; i++) {
			let charElem = document.createElement("span");
			charElem.style.color = "hsl(" + (360 * i / text.length) + ",80%,50%)";
			charElem.innerHTML = text[i];
			element.appendChild(charElem);
		}
	}
	
	for(i = 0; i < 100; i++){
		var para = document.createElement("p");
		var node = document.createTextNode("wowowowowowowowowowowowwowowowow");
		para.className = "rainbow"
		para.appendChild(node);
		document.getElementById("wow").appendChild(para);
	}
	
	window.onscroll = function(ev) {
		if ((window.innerHeight + window.pageYOffset) >= document.body.offsetHeight) {
			for(i = 0; i < 30; i++){
				var para = document.createElement("p");
				var node = document.createTextNode("wowowowowowowowowowowowwowowowow");
				para.className = "rainbow"
				para.appendChild(node);
				document.getElementById("wow").appendChild(para);
			}
			colorWow()
		}
	};
</script>